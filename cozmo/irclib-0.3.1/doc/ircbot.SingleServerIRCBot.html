<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>

<head>

<META NAME="GENERATOR" CONTENT="pythondoc 0.6 (Mon Dec 11 15:50:05 2000)">

<link rel="stylesheet" href="pythondoc.css" type="text/css">

<title>Class SingleServerIRCBot</title>
</head>

<body>
<P><A HREF="index.html">Table of contents</A> <A HREF="indices.html">Index</A></P>


<H1 CLASS="ClassName">class SingleServerIRCBot - A single-server IRC bot class.</H1>
<P CLASS="DeclaredIn">Declared in module <A HREF="ircbot.html">ircbot</A></P>

<H2 CLASS="ClassHierarchy">Inheritance hierarchy:</H2><P CLASS="ClassHierarchy">ircbot.SingleServerIRCBot<BR>
&nbsp;&nbsp;irclib.SimpleIRCClient<BR>
</P>

<H2>Synopsis</H2>
<PRE CLASS="ClassDeclaration">
<SPAN CLASS="PyKeyword">class</SPAN> <SPAN CLASS="ClassName">SingleServerIRCBot</SPAN>(<A CLASS="DocLink" HREF="irclib.SimpleIRCClient.html">SimpleIRCClient</A>):
    <SPAN CLASS="PyKeyword">def</SPAN> <SPAN CLASS="FunctionName">__init__</SPAN>(<SPAN CLASS="Argument">self</SPAN>, <A HREF="#ircbot.SingleServerIRCBot.__init__server_list"><SPAN CLASS="Argument">server_list</SPAN></A>, <A HREF="#ircbot.SingleServerIRCBot.__init__nickname"><SPAN CLASS="Argument">nickname</SPAN></A>, <A HREF="#ircbot.SingleServerIRCBot.__init__realname"><SPAN CLASS="Argument">realname</SPAN></A>, <A HREF="#ircbot.SingleServerIRCBot.__init__reconnection_interval60"><SPAN CLASS="Argument">reconnection_interval=60</SPAN></A>)<SPAN CLASS="OneLiner"> # Constructor for SingleServerIRCBot objects.</SPAN>
    <SPAN CLASS="PyKeyword">def</SPAN> <SPAN CLASS="FunctionName">_connect</SPAN>(<SPAN CLASS="Argument">self</SPAN>)<SPAN CLASS="OneLiner"> # [Internal]</SPAN>
    <SPAN CLASS="PyKeyword">def</SPAN> <SPAN CLASS="FunctionName">_connected_checker</SPAN>(<SPAN CLASS="Argument">self</SPAN>)<SPAN CLASS="OneLiner"> # [Internal]</SPAN>
    <SPAN CLASS="PyKeyword">def</SPAN> <SPAN CLASS="FunctionName">_on_disconnect</SPAN>(<SPAN CLASS="Argument">self</SPAN>, <SPAN CLASS="Argument">c</SPAN>, <SPAN CLASS="Argument">e</SPAN>)<SPAN CLASS="OneLiner"> # [Internal]</SPAN>
    <SPAN CLASS="PyKeyword">def</SPAN> <SPAN CLASS="FunctionName">_on_join</SPAN>(<SPAN CLASS="Argument">self</SPAN>, <SPAN CLASS="Argument">c</SPAN>, <SPAN CLASS="Argument">e</SPAN>)<SPAN CLASS="OneLiner"> # [Internal]</SPAN>
    <SPAN CLASS="PyKeyword">def</SPAN> <SPAN CLASS="FunctionName">_on_kick</SPAN>(<SPAN CLASS="Argument">self</SPAN>, <SPAN CLASS="Argument">c</SPAN>, <SPAN CLASS="Argument">e</SPAN>)<SPAN CLASS="OneLiner"> # [Internal]</SPAN>
    <SPAN CLASS="PyKeyword">def</SPAN> <SPAN CLASS="FunctionName">_on_mode</SPAN>(<SPAN CLASS="Argument">self</SPAN>, <SPAN CLASS="Argument">c</SPAN>, <SPAN CLASS="Argument">e</SPAN>)<SPAN CLASS="OneLiner"> # [Internal]</SPAN>
    <SPAN CLASS="PyKeyword">def</SPAN> <SPAN CLASS="FunctionName">_on_namreply</SPAN>(<SPAN CLASS="Argument">self</SPAN>, <SPAN CLASS="Argument">c</SPAN>, <SPAN CLASS="Argument">e</SPAN>)<SPAN CLASS="OneLiner"> # [Internal]</SPAN>
    <SPAN CLASS="PyKeyword">def</SPAN> <SPAN CLASS="FunctionName">_on_nick</SPAN>(<SPAN CLASS="Argument">self</SPAN>, <SPAN CLASS="Argument">c</SPAN>, <SPAN CLASS="Argument">e</SPAN>)<SPAN CLASS="OneLiner"> # [Internal]</SPAN>
    <SPAN CLASS="PyKeyword">def</SPAN> <SPAN CLASS="FunctionName">_on_part</SPAN>(<SPAN CLASS="Argument">self</SPAN>, <SPAN CLASS="Argument">c</SPAN>, <SPAN CLASS="Argument">e</SPAN>)<SPAN CLASS="OneLiner"> # [Internal]</SPAN>
    <SPAN CLASS="PyKeyword">def</SPAN> <SPAN CLASS="FunctionName">_on_quit</SPAN>(<SPAN CLASS="Argument">self</SPAN>, <SPAN CLASS="Argument">c</SPAN>, <SPAN CLASS="Argument">e</SPAN>)<SPAN CLASS="OneLiner"> # [Internal]</SPAN>
    <SPAN CLASS="PyKeyword">def</SPAN> <SPAN CLASS="FunctionName">die</SPAN>(<SPAN CLASS="Argument">self</SPAN>, <A HREF="#ircbot.SingleServerIRCBot.diemsgBye, cruel world!"><SPAN CLASS="Argument">msg='Bye, cruel world!'</SPAN></A>)<SPAN CLASS="OneLiner"> # Let the bot die.</SPAN>
    <A CLASS="DocLink" HREF="#disconnect"><SPAN CLASS="PyKeyword">def</SPAN> <SPAN CLASS="FunctionName">disconnect</SPAN></A>(<SPAN CLASS="Argument">self</SPAN>, <A HREF="#ircbot.SingleServerIRCBot.disconnectmsg"Ill be back!""><SPAN CLASS="Argument">msg="I'll be back!"</SPAN></A>)<SPAN CLASS="OneLiner"> # Disconnect the bot.</SPAN>
    <A CLASS="DocLink" HREF="#get_version"><SPAN CLASS="PyKeyword">def</SPAN> <SPAN CLASS="FunctionName">get_version</SPAN></A>(<SPAN CLASS="Argument">self</SPAN>)<SPAN CLASS="OneLiner"> # Returns the bot version.</SPAN>
    <A CLASS="DocLink" HREF="#jump_server"><SPAN CLASS="PyKeyword">def</SPAN> <SPAN CLASS="FunctionName">jump_server</SPAN></A>(<SPAN CLASS="Argument">self</SPAN>)<SPAN CLASS="OneLiner"> # Connect to a new server, possible disconnecting from the current.</SPAN>
    <A CLASS="DocLink" HREF="#on_ctcp"><SPAN CLASS="PyKeyword">def</SPAN> <SPAN CLASS="FunctionName">on_ctcp</SPAN></A>(<SPAN CLASS="Argument">self</SPAN>, <SPAN CLASS="Argument">c</SPAN>, <SPAN CLASS="Argument">e</SPAN>)<SPAN CLASS="OneLiner"> # Default handler for ctcp events.</SPAN>
    <SPAN CLASS="PyKeyword">def</SPAN> <SPAN CLASS="FunctionName">start</SPAN>(<SPAN CLASS="Argument">self</SPAN>)<SPAN CLASS="OneLiner"> # Start the bot.</SPAN>

    <SPAN CLASS="InheritsHead"># Inherited from irclib.SimpleIRCClient</SPAN>
    <SPAN CLASS="PyKeyword">def</SPAN> <SPAN CLASS="FunctionName">__init__</SPAN>(<SPAN CLASS="Argument">self</SPAN>)
    <SPAN CLASS="PyKeyword">def</SPAN> <SPAN CLASS="FunctionName">_dispatcher</SPAN>(<SPAN CLASS="Argument">self</SPAN>, <SPAN CLASS="Argument">c</SPAN>, <SPAN CLASS="Argument">e</SPAN>)<SPAN CLASS="OneLiner"> # [Internal]</SPAN>
    <A CLASS="DocLink" HREF="#connect"><SPAN CLASS="PyKeyword">def</SPAN> <SPAN CLASS="FunctionName">connect</SPAN></A>(<SPAN CLASS="Argument">self</SPAN>, <A HREF="#irclib.SimpleIRCClient.connectserver"><SPAN CLASS="Argument">server</SPAN></A>, <A HREF="#irclib.SimpleIRCClient.connectport"><SPAN CLASS="Argument">port</SPAN></A>, <A HREF="#irclib.SimpleIRCClient.connectnickname"><SPAN CLASS="Argument">nickname</SPAN></A>, <A HREF="#irclib.SimpleIRCClient.connectpasswordNone"><SPAN CLASS="Argument">password=None</SPAN></A>, <A HREF="#irclib.SimpleIRCClient.connectusernameNone"><SPAN CLASS="Argument">username=None</SPAN></A>, <A HREF="#irclib.SimpleIRCClient.connectircnameNone"><SPAN CLASS="Argument">ircname=None</SPAN></A>)<SPAN CLASS="OneLiner"> # Connect/reconnect to a server.</SPAN>
    <SPAN CLASS="PyKeyword">def</SPAN> <SPAN CLASS="FunctionName">start</SPAN>(<SPAN CLASS="Argument">self</SPAN>)<SPAN CLASS="OneLiner"> # Start the IRC client.</SPAN>

</PRE><H2>Description</H2><P>
The bot tries to reconnect if it is disconnected.</P>
<P>
The bot keeps track of the channels it has joined, the other
clients that are present in the channels and which of those that
have operator or voice modes.  The "database" is kept in the
self.channels attribute, which is an IRCDict of Channels.
</P>
<H2 ID="disconnect" CLASS="Method">disconnect(<SPAN CLASS="Argument">self</SPAN>, <A HREF="#ircbot.SingleServerIRCBot.disconnectmsg"Ill be back!""><SPAN CLASS="Argument">msg="I'll be back!"</SPAN></A>)</H2>
<P>Disconnect the bot.</P>

<DL CLASS="Arguments">
  <DT CLASS="Argument" ID="ircbot.SingleServerIRCBot.disconnectmsg"Ill be back!""><SPAN CLASS="Argument">msg="I'll be back!"</SPAN></DT><DD CLASS="Argument">Quit message.
</DD>

</DL>
<P>
The bot will try to reconnect after a while.</P>
<H2 ID="get_version" CLASS="Method">get_version(<SPAN CLASS="Argument">self</SPAN>)</H2>
<P>Returns the bot version.</P>

<P>
Used when answering a CTCP VERSION request.
</P>
<H2 ID="jump_server" CLASS="Method">jump_server(<SPAN CLASS="Argument">self</SPAN>)</H2>
<P>Connect to a new server, possible disconnecting from the current.</P>

<P>
The bot will skip to next server in the server_list each time
jump_server is called.
</P>
<H2 ID="on_ctcp" CLASS="Method">on_ctcp(<SPAN CLASS="Argument">self</SPAN>, <SPAN CLASS="Argument">c</SPAN>, <SPAN CLASS="Argument">e</SPAN>)</H2>
<P>Default handler for ctcp events.</P>

<P>
Replies to VERSION and PING requests.
</P>
<H2 ID="connect" CLASS="Method">connect(<SPAN CLASS="Argument">self</SPAN>, <A HREF="#irclib.SimpleIRCClient.connectserver"><SPAN CLASS="Argument">server</SPAN></A>, <A HREF="#irclib.SimpleIRCClient.connectport"><SPAN CLASS="Argument">port</SPAN></A>, <A HREF="#irclib.SimpleIRCClient.connectnickname"><SPAN CLASS="Argument">nickname</SPAN></A>, <A HREF="#irclib.SimpleIRCClient.connectpasswordNone"><SPAN CLASS="Argument">password=None</SPAN></A>, <A HREF="#irclib.SimpleIRCClient.connectusernameNone"><SPAN CLASS="Argument">username=None</SPAN></A>, <A HREF="#irclib.SimpleIRCClient.connectircnameNone"><SPAN CLASS="Argument">ircname=None</SPAN></A>)</H2>
<P>Connect/reconnect to a server.</P>

<DL CLASS="Arguments">
  <DT CLASS="Argument" ID="irclib.SimpleIRCClient.connectserver"><SPAN CLASS="Argument">server</SPAN></DT><DD CLASS="Argument">Server name.</DD>
<DT CLASS="Argument" ID="irclib.SimpleIRCClient.connectport"><SPAN CLASS="Argument">port</SPAN></DT><DD CLASS="Argument">Port number.</DD>
<DT CLASS="Argument" ID="irclib.SimpleIRCClient.connectnickname"><SPAN CLASS="Argument">nickname</SPAN></DT><DD CLASS="Argument">The nickname.</DD>
<DT CLASS="Argument" ID="irclib.SimpleIRCClient.connectpasswordNone"><SPAN CLASS="Argument">password=None</SPAN></DT><DD CLASS="Argument">Password (if any).</DD>
<DT CLASS="Argument" ID="irclib.SimpleIRCClient.connectusernameNone"><SPAN CLASS="Argument">username=None</SPAN></DT><DD CLASS="Argument">The username.</DD>
<DT CLASS="Argument" ID="irclib.SimpleIRCClient.connectircnameNone"><SPAN CLASS="Argument">ircname=None</SPAN></DT><DD CLASS="Argument">The IRC name.</DD>

</DL>
<P>
This function can be called to reconnect a closed connection.
</P>

<HR>
<TABLE ALIGN="LEFT">
<TR><TD>
  <A HREF="http://validator.w3.org/check/referer" TARGET="validate">
    <IMG BORDER=0 SRC="http://validator.w3.org/images/vh40.gif"
     ALT="Valid HTML 4.0!" HEIGHT=31 WIDTH=88></A>
  <A HREF="http://www.w3.org/Style/CSS/Buttons">
    <IMG ALT="Made with CSS" BORDER=0 WIDTH=88 HEIGHT=31 
     SRC="http://www.w3.org/Style/CSS/Buttons/mwcos"></A>

</TD>
<TD STYLE="padding-left: 10">
  <SPAN CLASS="AUTHOR"></SPAN><BR>
  <SPAN CLASS="VERSION"></SPAN>
</TD>
</TABLE>

</body>
</html>
